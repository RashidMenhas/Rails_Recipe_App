<div class="recipes-container">
<h1>Public Recipes</h1>

<ul class="public_recipes_container">
  <% @public_recipes.each do |public_recipe| %>
    <%= link_to recipe_path(id: public_recipe.id) do%>
      <li>
      <div class="sub_public_recipes_container">
        <div>
          <h2><%= public_recipe.name %></h2>
          <span>By: <%= public_recipe.user.name %></span>
        </div>
        <div class="public_recipes_total_food_price">
          <p>Total food items: <%= public_recipe.recipe_foods.count %></p>
          <p>Total Price
            <% total_price = 0 %>
            <% public_recipe.recipe_foods.each do |recipe_food| %>
            <% total_price += recipe_food.quantity * recipe_food.food.price %>
            <% end %>
            <%= total_price %>
          </p>
        </div>
        </div>
      </li>
    <% end %>
  <% end %>
</ul>

<div class="list_btn">
    <button class="recipe_btn"><%= link_to "Add Recipe", new_recipe_path %></button>
</div>
